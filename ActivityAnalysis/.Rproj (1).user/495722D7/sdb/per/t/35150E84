{
    "contents" : "library(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(scales)\nlibrary(grid)\nq0<-tbl_df(read.csv('time.active.zero.csv', header=T))\nq1<-tbl_df(read.csv('time.active.1q.csv', header=T))\nq2<-tbl_df(read.csv('time.active.2q.csv', header=T))\nq3<-tbl_df(read.csv('time.active.3q.csv', header=T))\nq4<-tbl_df(read.csv('time.active.4q.csv', header=T))\nquart<-tbl_df(data.frame(quartile=rep(c('q0', 'q1', 'q2', 'q3', 'q4'), each=68)))\nquart<-quart[-c(205, 206), ] # Remove 2 from q3\n\nplot.data<-q0 %>%\n    bind_rows(q1,q2,q3,q4) %>%\n    select(id,pain,minutes.per.day) %>%\n    bind_cols(quart) %>%\n    select(quartile, pain, minutes.per.day)\nstr(plot.data)\n\npdf('activity.plot.pdf', paper='a4r', width=10, height=9)\ngg<-ggplot(data=plot.data, aes(x=quartile, y=minutes.per.day, fill=pain)) +\n    geom_boxplot(position=position_dodge(0.85)) + # set to dodge and line thickness\n    scale_x_discrete(labels=c(\"0\", \"1-24\", \"25-49\", \"50-74\", \"75-100\")) +\n    coord_cartesian(ylim=c(-20, 1400), xlim=c(0.5,5.5)) +\n    scale_y_continuous(breaks=c(0, 200, 400, 600,800,1000,1200, 1400)) +\n    labs(y=\"Time (minutes)\", x=\"Percentage of maximum activity (%)\") +\n    theme_classic() +\n    scale_fill_hue(labels = c(\"No Pain\", \"Pain\")) +\n    theme(axis.text=element_text(size=18),\n          axis.title.y=element_text(size=18, vjust=2),\n          axis.title.x=element_text(size=18, vjust=-2),\n          legend.title=element_blank(),\n          legend.text=element_text(size=18),\n          legend.position = c(0.9, 0.9),\n          plot.margin=unit(c(1,1,2,1), \"cm\"))\ngg\ndev.off()\n",
    "created" : 1442569744945.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1449281922",
    "id" : "35150E84",
    "lastKnownWriteTime" : 1442583834,
    "path" : "~/GoogleDrive/DataAnalysis/HIVResilience/ActivityAnalysis/activity.plot.R",
    "project_path" : "activity.plot.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}